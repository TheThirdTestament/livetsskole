if (self.CavalryLogger) { CavalryLogger.start_js(["M6IIl"]); }

__d("AdsAppVisibilityBlurDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"APP_VISIBILITY.BLUR"}}),null);
__d("AdsSavedAudienceSavedAudienceBatchCreatedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"SAVED_AUDIENCE.BATCH_CREATED"}}),null);
__d("AdsBrowserLabInteractionData",[],(function(a,b,c,d,e,f){"use strict";a=Object.create(null);e.exports=a}),null);
__d("AdsBrowserLabInteraction",["AdsBrowserLabInteractionData","AdsSpeedConfig","FBLogger","mapObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsSpeedConfig").isBrowserlabEnabled,h=b("FBLogger")("ads_browserlab");function i(a,c){if(!g())return;if(b("AdsBrowserLabInteractionData")[a]!=null){h.warn("Tried adding a metric that's already queued");return}b("AdsBrowserLabInteractionData")[a]=c}function a(a){b("mapObject")(a,function(a,b){return i(b,a)})}function c(){return b("AdsBrowserLabInteractionData")}e.exports={logMetric:i,logMetrics:a,get:c}}),null);
__d("AdsBrowserLab",["regeneratorRuntime","AdsBrowserLabInteraction","AdsBrowserLabTestConfig","AdsSpeedConfig","FBLogger","TraceBench","UserTimingUtils","mapObject","performanceNow","requireCond","cr:916933"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsSpeedConfig").isBrowserlabEnabled,h=!1,i=!1,j=null,k,l;function a(){return j}var m={AWAITING_LOADING_STATE_TEST:"AWAITING_LOADING_STATE_TEST",AWAITING_INTERACTION_TEST:"AWAITING_INTERACTION_TEST"},n=b("FBLogger")("ads_browserlab");function o(){i=!0}function p(){i=!1}function c(){__p&&__p();var a,c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:a=b("cr:916933")==null?void 0:b("cr:916933").debugTrace;a&&(a.enableJSPerfLogging(),a.enableGraphAPILogging());c=b("AdsBrowserLabTestConfig").getTestConfig();b("UserTimingUtils").measureStart(m.AWAITING_LOADING_STATE_TEST);e.next=6;return b("regeneratorRuntime").awrap(c.run("setup"));case 6:b("UserTimingUtils").measureEnd("[BrowserLab] Running Loading State Test",m.AWAITING_LOADING_STATE_TEST);o();b("UserTimingUtils").measureStart(m.AWAITING_INTERACTION_TEST);e.next=11;return b("regeneratorRuntime").awrap(c.run("test"));case 11:d=e.sent,b("AdsBrowserLabInteraction").logMetrics(d),b("UserTimingUtils").measureEnd("[BrowserLab] Running Interaction Test",m.AWAITING_INTERACTION_TEST),p(),a&&(j=a.finalizeTrace(),a.downloadChromeEventTrace()),b("TraceBench").done(k);case 17:case"end":return e.stop()}},null,this)}function q(a){var b=function(){if(!g())return;h||v();for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return a.apply(null,c)};return b}function d(a){n.info("Starting a timer for the %s metric",a),l[a]=b("performanceNow")()}function f(a){if(!l[a]){n.warn("Tried ending a metric timer that doesn't exist: %s",a);return}s(a,b("performanceNow")()-l[a]);delete l[a]}function r(a,b){if(!i)return;if(k[a]!=null){n.warn("Tried adding a JSON metric that's already queued");return}n.info("Adding metric %s with a JSON value",a);k[a]=b}function s(a,b){if(!i)return;if(k[a]!=null){n.warn("Tried adding a metric that's already queued");return}typeof b==="number"?n.info("Adding metric %s with a value of %s to the queue",a,b):n.info("Adding metric %s with a non-numerical value to the queue",a);k[a]=b}function t(a){b("mapObject")(a,function(a,b){return s(b,a)})}function u(a,c,d){var e=b("AdsBrowserLabTestConfig").getTestConfig();c!=null&&t(c);e.resolveDependency(a,d)}function v(){k=Object.create(null),l=Object.create(null),h=!0}c=b("mapObject")({startTest:c,startTimer:d,endTimer:f,logJSON:r,logMetric:s,logMetrics:t,resolveEvent:u,getTrace:a},function(a,b){return q(a)});e.exports=c}),null);
__d("AdsBrowserLabDependencies",["regeneratorRuntime","Promise"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.get=function(a){__p&&__p();var c=this;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b,d){if(!c.$1[a]||c.$1[a].resolve)c.$1[a]={resolve:b,reject:d};else if(c.$1[a].metrics){d=c.$1[a].metrics;delete c.$1[a];b(d)}}));case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},null,this)};c.resolveDependency=function(a,b){if(this.$1[a]&&this.$1[a].resolve){var c=this.$1[a].resolve;delete this.$1[a];c(b);return}this.$1[a]={metrics:b}};return a}();e.exports=a}),null);
__d("waitForDoubleRAF",["regeneratorRuntime","Promise","requestAnimationFrame"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",new(b("Promise"))(function(a,c){b("requestAnimationFrame")(function(){b("requestAnimationFrame")(function(){a()})})}));case 1:case"end":return a.stop()}},null,this)}e.exports=a}),null);
__d("AdsBrowserLabTest",["regeneratorRuntime","Promise","AdsBrowserLabDependencies","AdsBrowserlabInteractionLogging","UserTimingUtils","expectationViolation","waitForDoubleRAF"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return window.document.evaluate(a,window.document,null,9,null).singleNodeValue}var h=function(){__p&&__p();function a(a,b){this.$2=a,this.$1=b}var c=a.prototype;c.findElement=function(a){__p&&__p();var c;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:c=null;case 1:d.next=3;return b("regeneratorRuntime").awrap(b("waitForDoubleRAF")());case 3:c=g(a);case 4:if(c==null){d.next=1;break}case 5:return d.abrupt("return",c);case 6:case"end":return d.stop()}},null,this)};c.click=function(a){__p&&__p();var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(this.findElement(a));case 2:c=d.sent;c.click();d.next=6;return b("regeneratorRuntime").awrap(b("waitForDoubleRAF")());case 6:case"end":return d.stop()}},null,this)};c.profileClick=function(a,c,d){__p&&__p();var e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:e="click profile: "+c;b("UserTimingUtils").measureStart(e);f.next=4;return b("regeneratorRuntime").awrap(this.$3(c));case 4:if(!(d=="dev")){f.next=9;break}f.next=7;return b("regeneratorRuntime").awrap(this.click(a));case 7:f.next=11;break;case 9:f.next=11;return b("regeneratorRuntime").awrap(this.webdriverClick(a));case 11:b("UserTimingUtils").measureEnd("[BrowserLab] "+e,e);case 12:case"end":return f.stop()}},null,this)};c.webdriverClick=function(a){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(b("waitForDoubleRAF")());case 2:this.$1();case 3:case"end":return a.stop()}},null,this)};c.getDependency=function(a){__p&&__p();var c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:c="wait for dependency: "+a;b("UserTimingUtils").measureStart(c);e.next=4;return b("regeneratorRuntime").awrap(this.$2.get(a));case 4:d=e.sent;b("UserTimingUtils").measureEnd("[BrowserLab] "+c,c);e.next=8;return b("regeneratorRuntime").awrap(b("waitForDoubleRAF")());case 8:return e.abrupt("return",d);case 9:case"end":return e.stop()}},null,this)};c.$3=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(b("AdsBrowserlabInteractionLogging").startInteractionMeasurement(a));case 2:case"end":return c.stop()}},null,this)};return a}();a=function(){__p&&__p();function a(a){var c=this;this.$3=function(){};this.$4=new(b("AdsBrowserLabDependencies"))();this.id=a.id;this.$1=a;this.$2=new(b("Promise"))(function(a,b){c.$3=a})}var c=a.prototype;c.run=function(a){__p&&__p();var c;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(b("waitForDoubleRAF")());case 2:this.$4=new(b("AdsBrowserLabDependencies"))();d.next=5;return b("regeneratorRuntime").awrap(this.$1[a](new h(this.$4,this.$3),this.$1));case 5:c=d.sent;this.$4=new(b("AdsBrowserLabDependencies"))();return d.abrupt("return",c);case 8:case"end":return d.stop()}},null,this)};c.getXPath=function(){return this.$1.xpath};c.resolveDependency=function(a,b){b===void 0&&(b={}),this.$4.resolveDependency(a,b)};c.interactionReady=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",this.$2);case 1:case"end":return a.stop()}},null,this)};return a}();e.exports=a}),null);
__d("AdsInteractionAreas",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=[],this.addArea("uicontextuallayer","contextual_layer"),this.addArea("uilayer","layer"),this.addAreaByID("bizBlackBar","unified_nav_blackbar","ads_unified_nav")}var b=a.prototype;b.addArea=function(a,b,c){var d=new RegExp(" "+a+" ","i");this.$1.push({name:b,pattern:d,surfaceName:c});return a};b.addAreaByID=function(a,b,c){a=new RegExp("#"+a+" ","i");this.$1.push({name:b,pattern:a,surfaceName:c});return a};b.$2=function(a,b){return a.pattern.test(b+" ")};b.match=function(a){__p&&__p();var b=null,c=null;pathLoop:for(var d=a.length-1;d>=0;d--){var e=a[d];for(var f=this.$1.length-1;f>=0;f--){var g=this.$1[f];if(this.$2(g,e)){var h;b=(h=b)!=null?h:g.name;c=(h=c)!=null?h:g.surfaceName;if(b!=null&&c!=null)break pathLoop}}}return{name:b,surfaceName:c}};b.inSurface=function(a,b){__p&&__p();var c=this,d=this.$1.filter(function(a){return a.surfaceName===b});if(d.length===0)return!1;var e=function(b){var e=a[b];if(d.some(function(a){return c.$2(a,e)}))return{v:!0}};for(var f=0;f<a.length;f++){var g=e(f);if(typeof g==="object")return g.v}return!1};return a}();e.exports=new a()}),null);
__d("AdsSpinnerSurfaceTracker",["Promise","regeneratorRuntime","AdsInteractionAreas","CancelablePromise","promiseDone","waitForDoubleRAF"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(){return new(b("CancelablePromise"))(b("waitForDoubleRAF")())}a=function(){__p&&__p();function a(a){this.$1=a;a=function(){};this.$2=new(b("Promise"))(function(b,c){a=function(){b()}});this.$3={status:"recording",resolveAllSpinnersLoaded:a,spinnerEvents:new Map()}}var c=a.prototype;c.$4=function(a){a=a.cssStack;return b("AdsInteractionAreas").inSurface((a=a)!=null?a:[],this.$1)};c.$5=function(a){return this.$3.status!=="all_loaded"&&this.$4(a)};c.onStart=function(a){__p&&__p();if(!this.$5(a))return;var b=this.$3;switch(b.status){case"waiting_for_next_frame":b.cancel();b.spinnerEvents.set(a.id,a);this.$3={status:"tracking",resolveAllSpinnersLoaded:b.resolveAllSpinnersLoaded,spinnerEvents:b.spinnerEvents};break;case"tracking":case"recording":b.spinnerEvents.set(a.id,a);break}};c.allLoaded=function(){__p&&__p();return b("regeneratorRuntime").async(function(a){__p&&__p();while(1)switch(a.prev=a.next){case 0:if(!(this.$3.status!=="recording")){a.next=2;break}return a.abrupt("return",this.$2);case 2:this.$3=this.$6({status:"tracking",resolveAllSpinnersLoaded:this.$3.resolveAllSpinnersLoaded,spinnerEvents:this.$3.spinnerEvents});return a.abrupt("return",this.$2);case 4:case"end":return a.stop()}},null,this)};c.$6=function(a){var c=this;if(a.status==="tracking"&&a.spinnerEvents.size==0){var d=g();b("promiseDone")(d.getPromise(),function(){c.$3={status:"all_loaded"},a.resolveAllSpinnersLoaded()});return{status:"waiting_for_next_frame",resolveAllSpinnersLoaded:a.resolveAllSpinnersLoaded,spinnerEvents:a.spinnerEvents,cancel:function(){return d.cancel()}}}return a};c.onEnd=function(a,b){if(!this.$5(a))return;b=this.$3;(b.status==="tracking"||b.status==="recording")&&(b.spinnerEvents["delete"](a.id)&&(this.$3=this.$6(this.$3)))};return a}();e.exports=a}),null);
__d("AdsBrowserLabTestConfig",["regeneratorRuntime","AdsBrowserLabTest","AdsManagerNavigationGatingUtils","AdsSpeedConfig","AdsSpinnerSurfaceTracker","LoadingMarkerGlobalListener","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=new(b("URI"))(window.location.href).getQueryData();var g=c.trigger_interaction,h=b("AdsManagerNavigationGatingUtils").getIsOptedInModernization();function i(a){__p&&__p();var c,d,e,f,g;return b("regeneratorRuntime").async(function(h){__p&&__p();while(1)switch(h.prev=h.next){case 0:c=a.adsManager,d=a.spec,e=a.adTabXPath,f=a.changeLevelScenario;h.next=3;return b("regeneratorRuntime").awrap(c.getDependency("page_load_visible_rows"));case 3:h.next=5;return b("regeneratorRuntime").awrap(c.click(d.xpath));case 5:h.next=7;return b("regeneratorRuntime").awrap(c.getDependency(d.id));case 7:g=h.sent;h.next=10;return b("regeneratorRuntime").awrap(c.getDependency(f));case 10:h.next=12;return b("regeneratorRuntime").awrap(c.click(e));case 12:h.next=14;return b("regeneratorRuntime").awrap(c.getDependency(f));case 14:return h.abrupt("return",g);case 15:case"end":return h.stop()}},null,this)}function j(a){__p&&__p();var c,d,e,f;return b("regeneratorRuntime").async(function(g){__p&&__p();while(1)switch(g.prev=g.next){case 0:c=a.adsManager,d=a.spec,e=a.done;g.next=3;return b("regeneratorRuntime").awrap(c.profileClick(d.xpath,d.id,q()?"dev":"webdriver"));case 3:g.next=5;return b("regeneratorRuntime").awrap(c.getDependency(d.id));case 5:f=g.sent;g.next=8;return b("regeneratorRuntime").awrap(e());case 8:return g.abrupt("return",f);case 9:case"end":return g.stop()}},null,this)}var k={onStart:function(a){},onEnd:function(a,b){}};function l(a){a.onStart=k.onStart,a.onEnd=k.onEnd}function m(a,c){var d=new(b("AdsSpinnerSurfaceTracker"))(c);a.onStart=function(a){return d.onStart(a)};a.onEnd=function(a,b){return d.onEnd(a,b)};return d}function n(){__p&&__p();var a=k;b("LoadingMarkerGlobalListener").subscribe(function(b){return a.onStart(b)},function(b,c){return a.onEnd(b,c)});switch(b("AdsSpeedConfig").getBrowserLabTest()){case"change_level":return new(b("AdsBrowserLabTest"))({id:"interaction_change_level",xpath:'//li[@data-testid="campaign_tab"]',setup:function(a,c){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(i({adsManager:a,spec:c,adTabXPath:'//li[@data-testid="adgroup_tab"]',changeLevelScenario:"change_level_dd"}));case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},null,this)},test:function(a,c){__p&&__p();return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(j({adsManager:a,spec:c,done:function(){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(a.getDependency("change_level_dd"));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},null,this)}}));case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},null,this)}});case"change_level_new":return new(b("AdsBrowserLabTest"))({id:"interaction_change_level",xpath:'//*[@data-testid="left-nav-root-level-itemad_set"]',setup:function(a,c){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(i({adsManager:a,spec:c,adTabXPath:'//*[@data-testid="left-nav-root-level-itemad"]',changeLevelScenario:"change_root_level"}));case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},null,this)},test:function(a,c){__p&&__p();return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(j({adsManager:a,spec:c,done:function(){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(a.getDependency("change_root_level"));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},null,this)}}));case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},null,this)}});case"edit_l1":return new(b("AdsBrowserLabTest"))({id:"interaction_open_editor",xpath:'//*[@data-testid="quick_edit_button"]',setup:function(c,d){__p&&__p();var e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(c.getDependency("page_load_visible_rows"));case 2:e=m(a,h?"am_management_pane_content":"am_editor");f.next=5;return b("regeneratorRuntime").awrap(c.click(d.xpath));case 5:f.next=7;return b("regeneratorRuntime").awrap(c.findElement('//*[@data-testid="edit-name-field"]'));case 7:f.next=9;return b("regeneratorRuntime").awrap(e.allLoaded());case 9:l(a);f.next=12;return b("regeneratorRuntime").awrap(c.click('//*[@data-testid="cancel-button"]'));case 12:return f.abrupt("return",{});case 13:case"end":return f.stop()}},null,this)},test:function(c,d){__p&&__p();var e,f;return b("regeneratorRuntime").async(function(g){__p&&__p();while(1)switch(g.prev=g.next){case 0:e=m(a,h?"am_management_pane_content":"am_editor");g.next=3;return b("regeneratorRuntime").awrap(j({adsManager:c,spec:d,done:function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(e.allLoaded());case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},null,this)}}));case 3:f=g.sent;l(a);return g.abrupt("return",f);case 6:case"end":return g.stop()}},null,this)}});default:throw new Error("missing BrowserLab test")}}var o=null;function p(){o||(o=n());return o}function a(a){return b("AdsSpeedConfig").hasBrowserLabTest()?p().id===a:!1}function q(){return!!g}e.exports={getTestConfig:p,isProfiling:a,shouldTriggerInteraction:q}}),null);
__d("AdsFluxProfilerClock",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(){this.$1=0}var b=a.prototype;b.getNextTick=function(){return this.$1++};b.getCurrentTick=function(){return this.$1-1};return a}();e.exports=new a()}),null);
__d("AdsFluxProfilerConstants",[],(function(a,b,c,d,e,f){"use strict";e.exports={ACTION_CONTEXT_NO_ACTION:"no_action"}}),null);
__d("AdsProfilerFluxContainerUtils",[],(function(a,b,c,d,e,f){"use strict";var g=0;function a(a){if(a&&typeof a=="object"){a._fluxContainerUniqueID==null&&(a._fluxContainerUniqueID=g++);return a._fluxContainerUniqueID}return null}e.exports={getInstanceID:a}}),null);
__d("AdsProfilerUserTimingListener",["FBLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=a.performance;function c(a,c){__p&&__p();if(!g)return;var d=g.mark?g.mark.bind(g):function(){},f=g.measure?g.measure.bind(g):function(){};try{g.mark=function(b){a(b);return d(b)},g.measure=function(a,b,d){c(a,b,d);return f(a,b,d)}}catch(a){b("FBLogger")("ads").warn("Failed to install %s",e.id)}}e.exports={install:c}}),null);
__d("warningCore",["createWarning","emptyFunction","monitorCodeUse"],(function(a,b,c,d,e,f){"use strict";a=b("createWarning")(b("monitorCodeUse"),b("emptyFunction"));e.exports=a}),null);
__d("AdsProfilerReactInstrumentation",["AdsFluxProfilerClock","AdsProfilerUserTimingListener","performanceNow","warningCore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=!1,h=null,i="\u269b",j=function(){__p&&__p();function a(){this.$1=new Map(),this.$2=[],this.$3=[],this.$4=[]}var c=a.prototype;c.mark=function(a){if(typeof a!=="string"||a.charAt(0)!==i){this.$2.push(a);return}var c={name:a,startTime:b("performanceNow")(),startTick:b("AdsFluxProfilerClock").getNextTick(),duration:null,endTick:null};this.$4.push(c);this.$1.set(a,c)};c.measure=function(a,c,d){__p&&__p();if(typeof a!=="string"||typeof c!=="string"||c.charAt(0)!=i){this.$3.push([a,c,d]);return}a=this.$1.get(c);if(a==null)return;this.$1["delete"](c);d=b("performanceNow")();a.duration=d-a.startTime;a.endTick=b("AdsFluxProfilerClock").getNextTick()};c.getCompletedMeasures=function(){var a=[];for(var b=0;b<this.$4.length;b++){var c=this.$4[b],d=c.name,e=c.startTime,f=c.duration,g=c.startTick;c=c.endTick;f!=null&&c!=null&&a.push({name:d,startTime:e,duration:f,startTick:g,endTick:c})}return a};c.getCurrentTick=function(){return b("AdsFluxProfilerClock").getCurrentTick()};return a}();function a(){g||b("AdsProfilerUserTimingListener").install(function(a){h&&h.mark(a)},function(a,b,c){h&&h.measure(a,b,c)}),g=!0}function c(){var a=new j();h==null&&(h=a);return{stop:function(){h===a&&(h=null);return a.getCompletedMeasures()},getCurrentTick:a.getCurrentTick.bind(a)}}e.exports={initialize:a,start:c}}),null);
__d("AdsFluxProducers",["invariant","Promise","regeneratorRuntime","AdsFluxProfilerClock","AdsFluxProfilerConstants","AdsProfilerEntities","AdsProfilerFluxContainerUtils","AdsProfilerReactInstrumentation","AdsSpeedConfig","FBLogger","ReactExperimentalProdProfiling","TimeSlice","expectationViolation","gkx","last","performanceNavigationStart","performanceNow","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsProfilerFluxContainerUtils").getInstanceID;a=b("AdsProfilerEntities").AdsProfilerProducer;c=b("AdsFluxProfilerConstants").ACTION_CONTEXT_NO_ACTION;function i(){return new(b("Promise"))(function(a){return b("setTimeout")(a,0)})}function j(a){b("FBLogger")("ads").mustfix("Failed to transition from state: %s",a.name)}var k={actionType:c,dispatchSeqNumber:-1};function l(a,c,d){return{dispatch:a,time:c,tool:d?d.tool||"":"",section:d?d.section||"":"",timesliceContextID:(a=b("TimeSlice").getContext())==null?void 0:a.contextID}}function m(){__p&&__p();var a;return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:a=b("ReactExperimentalProdProfiling").startProfiling();c.next=3;return b("regeneratorRuntime").awrap(i());case 3:return c.abrupt("return",function(){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:a.stopProfiling();c.next=3;return b("regeneratorRuntime").awrap(i());case 3:case"end":return c.stop()}},null,this)});case 4:case"end":return c.stop()}},null,this)}function n(a,b,c,d){a.dispatchStack.push(b),a.actionContextEdges.push(l(b,c,d))}function o(a,b,c){var d;a.dispatchStack.pop();d=(d=a.dispatchStack[a.dispatchStack.length-1])!=null?d:k;a.actionContextEdges.push(l(d,b,c))}function p(a,c,d){a.scenarioContextEdges.push({scenarioName:c,timesliceContextID:(a=b("TimeSlice").getContext())==null?void 0:a.contextID,event:d})}var q=[];function r(a,c){var d=b("AdsProfilerReactInstrumentation").start(),e=b("performanceNow")(),f=b("TimeSlice").getBuffer().open();a=babelHelpers["extends"]({},a,{containerCalculateStateTimes:[],containerUpdates:[],cycleStartTime:e,dispatchStack:[],actionContextEdges:[],actionDispatchMeasurement:{active:[],completed:[]},reactInstrumentation:d,scenarioContextEdges:b("gkx")("925827")?[]:q,timeSliceDataHandle:f});n(a,{dispatchSeqNumber:a.dispatchSeqNumber,actionType:a.actionType},a.cycleStartTime,c);return a}var s=new a("FLUX_CYCLE");d=function(){return s.getPropagate()};var t=function(){return null},u=b("AdsSpeedConfig").isBrowserlabEnabled()?t:d;f=function(){__p&&__p();function a(){__p&&__p();var a=this;this.$1={name:"idle"};this.$2=!1;this.$3=[];this.$4=null;this.$5=u;this.getCurrentDispatch=function(){return a.$3[a.$3.length-1]};this.$7=function(b,c){a.$1=c}}var c=a.prototype;c.initialize=function(a){b("AdsProfilerReactInstrumentation").initialize(),this.$2=!0,this.$4=a};c.$6=function(a){__p&&__p();var c,d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:c=this.$5();if(c){f.next=3;break}return f.abrupt("return");case 3:this.$7(a,{name:"preparing"});f.next=6;return b("regeneratorRuntime").awrap(m());case 6:d=f.sent,e=this.$1,e.name==="preparing"?this.$7(e,{name:"ready_to_start",disableReactUserTiming:d,propagate:c}):j(e);case 9:case"end":return f.stop()}},null,this)};c.$8=function(){var a=this.$1;switch(a.name){case"profiling_during_dispatch":case"profiling_after_dispatch":return a.profile}return null};c.onStoreUpdatesStart=function(a,c){var d=this.$8();if(d==null)return;d.actionDispatchMeasurement.active.push({startTime:b("performanceNow")(),startTick:b("AdsFluxProfilerClock").getNextTick(),dispatch:{actionType:a,dispatchSeqNumber:c}})};c.onStoreUpdatesEnd=function(a,c){__p&&__p();a=this.$8();if(a==null)return;var d=b("last")(a.actionDispatchMeasurement.active);if(d==null||d.dispatch.dispatchSeqNumber!==c)b("expectationViolation")("actionDispatchMeasurement.active: invalid current dispatch");else{c=this.$4;if(c==null)b("expectationViolation")("navStateGetter should be injected");else{c=c();a.actionDispatchMeasurement.completed.push({type:"action_dispatch",startTime:d.startTime,duration:b("performanceNow")()-d.startTime,startTick:d.startTick,endTick:b("AdsFluxProfilerClock").getNextTick(),name:d.dispatch.actionType,dispatchSeqNumber:d.dispatch.dispatchSeqNumber,tool:(d=c.tool)!=null?d:"",section:(d=c.section)!=null?d:""})}}a.actionDispatchMeasurement.active.pop()};c.onActionStart=function(a,c){__p&&__p();var d=this;if(!this.$2)return;var e=this.$4;if(e==null){b("expectationViolation")("navStateGetter should be injected");return}this.$3.push({actionType:a,dispatchSeqNumber:c});var f=this.$1;switch(f.name){case"idle":b("promiseDone")(this.$6(f));break;case"ready_to_start":this.$7(f,{name:"profiling_during_dispatch",profile:r({actionType:a,dispatchSeqNumber:c,propagate:f.propagate,disableReactUserTiming:f.disableReactUserTiming},e())});break;case"profiling_during_dispatch":n(f.profile,{dispatchSeqNumber:c,actionType:a},b("performanceNow")(),e());break;case"profiling_after_dispatch":var g=f.profile,h=g.reactInstrumentation.stop(),i=g.timeSliceDataHandle.close();n(g,{dispatchSeqNumber:c,actionType:a},b("performanceNow")(),e());g.propagate({actionType:g.actionType,cycleStartTime:g.cycleStartTime,reactMeasures:h,navigationStart:b("performanceNavigationStart")(),timeSliceEntries:i,containerCalculateStateTimes:g.containerCalculateStateTimes,containerUpdates:g.containerUpdates,actionContextEdges:g.actionContextEdges,scenarioContextEdges:g.scenarioContextEdges,actionDispatchMeasures:g.actionDispatchMeasurement.completed});h=this.$5();h?this.$7(f,{name:"profiling_during_dispatch",profile:r({actionType:a,dispatchSeqNumber:c,propagate:h,disableReactUserTiming:g.disableReactUserTiming},e())}):(this.$7(f,{name:"stopping_profile"}),b("promiseDone")(g.disableReactUserTiming().then(function(){var a=d.$1;a.name==="stopping_profile"?d.$7(a,{name:"idle"}):j(a)})));break}this.onStoreUpdatesStart(a,c)};c.onActionEnd=function(a,c){__p&&__p();var d=this;if(!this.$2)return;a=this.$4;if(a==null){b("expectationViolation")("navStateGetter should be injected");return}var e=this.$1;switch(e.name){case"profiling_after_dispatch":case"profiling_during_dispatch":o(e.profile,b("performanceNow")(),a());break}switch(e.name){case"profiling_during_dispatch":var f=e.profile;f.dispatchSeqNumber==c&&b("promiseDone")(i().then(function(){var a=d.$1;a.name==="profiling_during_dispatch"?d.$7(a,{name:"profiling_after_dispatch",profile:f}):j(a)}));break;default:return}this.$3.pop()};c.onScenarioEvent=function(a,b){var c=this.$1;switch(c.name){case"profiling_after_dispatch":case"profiling_during_dispatch":p(c.profile,a,b);break}};c.shouldRecordForUpdateTracking=function(){switch(this.$1.name){case"profiling_during_dispatch":case"profiling_after_dispatch":return!0}return!1};c.storeEmitChangeForUpdateTracking=function(a,b,c,d){d===void 0&&(d=k);var e=this.$1;switch(e.name){case"profiling_during_dispatch":case"profiling_after_dispatch":if(c==null)return;e=e.profile;e.containerUpdates.push({type:"storeEmitChange",containerName:b,containerInstanceID:h(a),storeNames:c,reactInstrumentationTick:e.reactInstrumentation.getCurrentTick(),causalDispatch:d})}};c.propsChangeForUpdateTracking=function(a,b,c){c===void 0&&(c=k);var d=this.$1;switch(d.name){case"profiling_during_dispatch":case"profiling_after_dispatch":d=d.profile;d.containerUpdates.push({containerName:b,containerInstanceID:h(a),type:"receiveProps",reactInstrumentationTick:d.reactInstrumentation.getCurrentTick(),causalDispatch:c})}};c.initialStateForUpdateTracking=function(a,b,c){c===void 0&&(c=k);var d=this.$1;switch(d.name){case"profiling_during_dispatch":case"profiling_after_dispatch":d=d.profile;d.containerUpdates.push({containerName:b,containerInstanceID:h(a),type:"mount",reactInstrumentationTick:d.reactInstrumentation.getCurrentTick(),causalDispatch:c})}};c.calculateStateTimeTracking=function(a,b,c){var d=this.$1;switch(d.name){case"profiling_during_dispatch":case"profiling_after_dispatch":d=d.profile;d.containerCalculateStateTimes.push({containerName:a,startTime:b,endTime:c})}};c.captureSamples=function(){__p&&__p();var a=this,c,d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:c=[];d=null;this.$5===t||g(0,12867);this.$5=function(){return function(a){c.push(a),d&&d()}};e=this.$1;if(!(e.name==="idle")){f.next=10;break}f.next=8;return b("regeneratorRuntime").awrap(this.$6(e));case 8:f.next=11;break;case 10:g(0,12868);case 11:return f.abrupt("return",function(){return new(b("Promise"))(function(b){d=function(){b(c)},a.$5=t,a.onActionStart("end_profile",-1)})});case 12:case"end":return f.stop()}},null,this)};return a}();c=new f();a={fluxCycle:c,adsProfilerFluxCycleProducer:s};e.exports=a}),null);
__d("AdsFluxContainerProducers",["AdsProfilerPointProducer","AdsProfilerSyncIntervalProducer"],(function(a,b,c,d,e,f){"use strict";a=new(b("AdsProfilerSyncIntervalProducer"))("FLUX_CONTAINER_CALCULATE_STATE");c=new(b("AdsProfilerPointProducer"))("FLUX_CONTAINER_DID_UPDATE");d=new(b("AdsProfilerPointProducer"))("FLUX_CONTAINER_COVERAGE");f={didUpdate:c,calculateState:a,coverage:d};e.exports=f}),null);
__d("AdsProfilerFluxContainerInstrumentation",["AdsFluxContainerProducers","AdsFluxProducers","AdsSpeedConfig","UserTimingUtils","getModuleNameFromFluxContainer","gkx","performanceNow","requireWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsFluxProducers").fluxCycle,h=b("gkx")("929203"),i=null;b("requireWeak")("FluxPerfToolDispatcher",function(a){i=a});a=null;var j=null;b("AdsSpeedConfig").isDevToolsTimingEnabled()&&(a=function(a){return b("UserTimingUtils").measureStart("FluxContainer.calculateState "+a)},j=function(a){b("UserTimingUtils").measureEnd("\u221e\ud83e\udd16 "+a,"FluxContainer.calculateState "+a)});var k=new Set();c={init:function(a){a=a.displayName||a.name;if(a&&!k.has(a)){k.add(a);if(h){var c=b("AdsFluxContainerProducers").coverage.getInform();c&&c({name:(c=b("getModuleNameFromFluxContainer")(a))!=null?c:"FluxContainer(unknown)"})}}},calculateStateStart:function(a){var c=b("performanceNow")(),d=b("AdsFluxContainerProducers").calculateState.getEnd();if(d||j)return function(){d&&d({name:a}),g.calculateStateTimeTracking(a,c,b("performanceNow")())};else return null},didUpdate:function(a,c,d,e,f,g){var h=b("AdsFluxContainerProducers").didUpdate.getInform();h&&h({name:c,props:{prev:d,cur:e},state:{prev:f,cur:g}});i&&i.onDidUpdate(a,c,d,e,f,g)},isFluxContainerName:function(a){return k.has(a)},updateTracking:{shouldRecord:function(){var a=g.shouldRecordForUpdateTracking();i&&(a=a||i.shouldRecordForUpdateTracking());return a},initialState:function(a,b){var c=g.getCurrentDispatch();g.initialStateForUpdateTracking(a,b);i&&i.initialStateForUpdateTracking(a,b,c)},storeEmitChange:function(a,b,c,d){g.storeEmitChangeForUpdateTracking(a,b,c,d),i&&i.storeEmitChangeForUpdateTracking(a,b,c,d)},receiveProps:function(a,b,c){g.propsChangeForUpdateTracking(a,b,c),i&&i.propsChangeForUpdateTracking(a,b,c)},getCurrentDispatch:g.getCurrentDispatch}};e.exports=c}),null);
__d("AdsProfilerReactMeasureUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=/^\u269B (?:(\(React Tree Reconciliation\)|\(React Tree Reconciliation: Completed Root\)|\(React Tree Reconciliation: Yielded\)|\(Committing Changes\)|((.*?)(?: \[(mount|update)\]|\.(\w+?)) \(#\w*?\)))$)/;function a(a){__p&&__p();var b=a.name.match(g);if(!b)return null;switch(b[1]){case"(Committing Changes)":return babelHelpers["extends"]({type:"phase",phase:"commit"},a);case"(React Tree Reconciliation: Completed Root)":case"(React Tree Reconciliation: Yielded)":case"(React Tree Reconciliation)":return babelHelpers["extends"]({type:"phase",phase:"reconcilliation"},a);default:if(b[4]!==void 0)return babelHelpers["extends"]({type:"component_inclusive",componentName:b[3]},a);else if(b[5]!==void 0)return babelHelpers["extends"]({type:"component_lifecycle",componentName:b[3],methodName:b[5]},a)}return null}e.exports={parseMeasure:a}}),null);
__d("AdsProfilerFluxCycleProcessingUtils",["AdsFluxProfilerConstants","AdsProfilerFluxContainerInstrumentation","AdsProfilerReactMeasureUtils","getModuleNameFromFluxContainer","gkx","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsFluxProfilerConstants").ACTION_CONTEXT_NO_ACTION;function h(a,b,c){__p&&__p();var d={measure:a[b],children:[],parent:null},e=[d];b=b+1;for(;b<a.length;b++){var f=a[b];while(e.length>0){var g=e[e.length-1],h=g.measure.endTick;if(f.endTick<h){h={measure:f,children:[],parent:g};g.children.push(h);e.push(h);break}else{g=e.pop();c&&c(g)}}if(e.length===0)break}if(c)while(e.length>0)c(e.pop());return{root:d,nextStartIndex:b}}function i(a,b,c){__p&&__p();var d=new Map(),e=function(a){d.set(a.measure.startTick,a),d.set(a.measure.endTick,a)},f=0;while(f<a.length){var g=h(a,f,e);g=g.nextStartIndex;f=g}g=new Map();a=new Map();for(var f=0;f<c.length;f++){e=c[f];var i=d.get(e.reactInstrumentationTick)||null,j=null;i&&(i.measure.type==="component_inclusive"&&b.has(i.measure)?j=i.measure:i.measure.type==="component_lifecycle"&&i.parent&&i.parent.measure.type==="component_inclusive"&&i.measure.componentName===i.parent.measure.componentName&&b.has(i.parent.measure)&&(j=i.parent.measure));j&&(g.has(j)&&g.get(j)!==e.containerInstanceID&&(j=null));if(j){i=(i=a.get(j))!=null?i:[];i.push(e);a.set(j,i)}}return a}function j(a,b){return a+b.measure.duration}function k(a,b){var c=a.measure;if(c.type==="component_inclusive"){var d=b.get(c.componentName)||0;b.set(c.componentName,d+c.duration-a.children.reduce(j,0))}for(var d=0;d<a.children.length;d++)k(a.children[d],b)}function l(a,b,c){var d;d=(d=a.get(b))!=null?d:0;a.set(b,d+c)}function m(a,c,d){__p&&__p();d===void 0&&(d=!1);var e=!1,f=a.measure;switch(f.type){case"component_inclusive":e=!0;break;default:break}var g=0;for(var h=0;h<a.children.length;h++)g+=m(a.children[h],c,d||e);switch(f.type){case"action_dispatch":h=f.name+" action dispatch";l(c,h,f.duration-g);return f.duration;case"phase":e="[other React "+f.phase+" phase time]";l(c,e,f.duration-g);return f.duration;case"component_inclusive":if(b("AdsProfilerFluxContainerInstrumentation").isFluxContainerName(f.componentName)||!d){l(c,f.componentName,f.duration-g);return f.duration}return g;default:break}return g}function n(a){__p&&__p();var b=[];for(var c=0;c<a.length;c++)b.push(0);c=a.reduce(function(a,b){return a+b.length},0);var d=new Array(c);for(var e=0;e<c;e++){var f=Infinity,g=c;for(var h=0;h<b.length;h++){if(b[h]>=a[h].length)continue;var i=a[h][b[h]];i.startTick<=f&&(f=i.startTick,g=h)}d[e]=a[g][b[g]];b[g]++}return d}function o(a,b,c,d){__p&&__p();var e=a.measure;if(e.type==="component_inclusive"){var f=e.duration-a.children.reduce(j,0);e=b.get(e);var h=[];if(e)for(var i=0;i<e.length;i++){var k=e[i].causalDispatch;k&&k.dispatchSeqNumber!=-1&&h.push(k.actionType)}c.length===0&&h.length===0&&h.push(g);c.push(h);k=new Map();e=0;for(var i=0;i<c.length;i++){h=c[i];for(var l=0;l<h.length;l++){var m=h[l];k.set(m,(k.get(m)||0)+1);e++}}m=f/e;for(var l=k,h=Array.isArray(l),i=0,l=h?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(i>=l.length)break;f=l[i++]}else{i=l.next();if(i.done)break;f=i.value}e=f;k=e[0];f=e[1];d.set(k,(d.get(k)||0)+m*f)}}for(var e=0;e<a.children.length;e++)o(a.children[e],b,c,d);c.pop()}function p(a,b,c,d){__p&&__p();var e=a.measure;if(e.type==="component_inclusive"){var f=b.get(e),g=[];if(f)for(var h=0;h<f.length;h++){var i=f[h];switch(i.type){case"storeEmitChange":for(var k=0;k<i.storeNames.length;k++)g.push(i.storeNames[k]);break;case"mount":case"receiveProps":break}}c.length===0&&g.length===0&&g.push("no_store");c.push(g);i=new Map();k=0;for(var f=0;f<c.length;f++){h=c[f];for(var g=0;g<h.length;g++){var l=h[g];i.set(l,(i.get(l)||0)+1);k++}}l=e.duration-a.children.reduce(j,0);g=l/k;for(var h=i,f=Array.isArray(h),e=0,h=f?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=h.length)break;l=h[e++]}else{e=h.next();if(e.done)break;l=e.value}k=l;i=k[0];l=k[1];d.set(i,(d.get(i)||0)+g*l)}}for(var k=0;k<a.children.length;k++)p(a.children[k],b,c,d);c.pop()}function q(a,c,d){__p&&__p();var e=new Map(),f=0;for(var g=0;g<a.length;g++){var h=a[g];while(c[f].end-d<h.measure.startTime)f++;h=c[f];var i=e.get(h)||[];e.set(h,i);i.push(b("nullthrows")(a[g]))}return e}function r(a,c){__p&&__p();var d=new Map(),e=0;for(var f=0;f<a.length;f++){var g=a[f];while(c[e].endTime<g.measure.startTime)e++;g=c[e];var h=d.get(g)||[];d.set(g,h);h.push(b("nullthrows")(a[f]))}return d}function s(a,c){__p&&__p();var d=new Map(),e=0;for(var f=0;f<a.length;f++){var g=a[f];while(c[e].endTime<g.startTime)e++;g=c[e];var h=d.get(g)||[];d.set(g,h);h.push(b("nullthrows")(a[f]))}return d}var t={start:new Set(),end:new Set()};function u(a,c,d){__p&&__p();var e=[],f=new Map(),h=new Map();if(b("gkx")("925827"))for(var i=0;i<c.length;i++){var j,k=c[i],l=k.timesliceContextID,m=k.event;k=k.scenarioName;if(l==null)continue;j=(j=h.get(l))!=null?j:{start:new Set(),end:new Set()};j[m].add(k);h.set(l,j)}for(var m=0;m<a.length-1;m++){k=a[m];j=a[m+1];i=(c=(i=k.dispatch)==null?void 0:i.actionType)!=null?c:g;var l=k.timesliceContextID;l!=null&&!f.has(l)&&f.set(l,i);e.push(babelHelpers["extends"]({startTime:k.time,endTime:j.time},v(k,d,f,h),{innerAction:i,tool:j.tool,section:j.section}))}return e}function v(a,c,d,e){a=a.timesliceContextID;d=(d=a!=null?d.get(a):null)!=null?d:c;return!b("gkx")("925827")||a==null?{outerAction:d,scenarios:t}:{outerAction:d,scenarios:(c=e.get(a))!=null?c:t}}function w(a){__p&&__p();var b=0;for(var a=a.values(),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b+=e}return b}function a(a,c){__p&&__p();var d=a.reactMeasures,e=a.timeSliceEntries,f=[];for(var g=0;g<d.length;g++){var i=d[g];i=b("AdsProfilerReactMeasureUtils").parseMeasure(i);if(!i)continue;f.push(i)}i=n([f,a.actionDispatchMeasures]);var j=u(a.actionContextEdges,a.scenarioContextEdges,a.actionType);g=[];d=0;while(d<i.length){f=h(i,d);var k=f.root;f=f.nextStartIndex;d=f;g.push(k)}f=q(g,e,a.navigationStart);var l=0;f.forEach(function(d,e){__p&&__p();var f=function(f){var g=new Map();m(d[f],g);while(l<j.length-1&&j[l].startTime<e.begin-a.navigationStart)l++;var h=j[l];g.forEach(function(d,f){c("FLUX_CONTAINER_ATTRIBUTABLE",""+(b("getModuleNameFromFluxContainer")(f)||f),d,babelHelpers["extends"]({},h,{startTime:e.begin-a.navigationStart,endTime:e.end-a.navigationStart}))})};for(var g=0;g<d.length;g++)f(g)})}function c(a,c){__p&&__p();var d=a.reactMeasures,e=a.containerCalculateStateTimes,f=a.containerUpdates,g=[],j=[],l=[],m=[];for(var n=0;n<d.length;n++){var q=d[n];q=b("AdsProfilerReactMeasureUtils").parseMeasure(q);if(!q)continue;m.push(q);switch(q.type){case"phase":g.push(q);break;case"component_inclusive":case"component_lifecycle":b("AdsProfilerFluxContainerInstrumentation").isFluxContainerName(q.componentName)&&(l.push(q),q.type==="component_inclusive"&&j.push(q));break;default:break}}q=u(a.actionContextEdges,a.scenarioContextEdges,a.actionType);n=[];m=0;while(m<j.length){d=h(j,m);a=d.root;d=d.nextStartIndex;m=d;n.push(a)}var t=r(n,q),v=s(e,q);t.forEach(function(a,d){__p&&__p();var e=new Map();for(var f=0;f<a.length;f++)k(a[f],e);f=v.get(d)||[];var g=f.reduce(function(a,b){a[b.containerName]=a[b.containerName]||0;a[b.containerName]+=b.endTime-b.startTime;return a},{});e.forEach(function(a,e){e=b("getModuleNameFromFluxContainer")(e)||e;c("FLUX_CONTAINER_ATTRIBUTABLE",e,a,d,{calculateStateTime:g[e]})})});d=new Set(l);var x=i(l,d,f);t.forEach(function(a,d){var e=new Map();for(var f=0;f<a.length;f++)p(a[f],x,[],e);e.forEach(function(a,e){c("FLUX_STORE_ATTRIBUTABLE",b("getModuleNameFromFluxContainer")(e)||e,a,d)})});q.forEach(function(a){__p&&__p();if(a.innerAction===b("AdsFluxProfilerConstants").ACTION_CONTEXT_NO_ACTION){var d,e=new Map();d=(d=t.get(a))!=null?d:[];for(var f=0;f<d.length;f++)o(d[f],x,[],e);f=g.reduce(function(b,c){var d=c.startTime+c.duration;return a.startTime>d||a.endTime<c.startTime?b:b+(Math.min(d,a.endTime)-Math.max(c.startTime,a.startTime))},0);d=w(e);f=f-d;e.set(b("AdsFluxProfilerConstants").ACTION_CONTEXT_NO_ACTION,((d=e.get(b("AdsFluxProfilerConstants").ACTION_CONTEXT_NO_ACTION))!=null?d:0)+f);e.forEach(function(b,d){c("FLUX_ACTION_ATTRIBUTABLE",d,b,a)})}else{d=a.endTime-a.startTime;c("FLUX_ACTION_ATTRIBUTABLE",a.innerAction,d,a)}})}e.exports={buildMeasuresTree:h,mapMeasuresToContainerUpdates:i,accumulateContainerAttributableTimes:k,accumulateStoreAttributableTimes:p,accumulateActionAttributableTimes:o,getMeasuresTreesByActionContext:r,getActionContextsFromEdges:u,sumAttributableTimes:w,processFluxCycleEntry:c,processFluxCycleEntryV2:a,accumulateAttributableTimesForBreakdown:m,mergeMeasuresTreeMeasures:n}}),null);
__d("AdsBrowserlabInteractionLogging",["regeneratorRuntime","AdsBrowserLab","AdsFluxProducers","AdsProfilerFluxCycleProcessingUtils","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsFluxProducers").fluxCycle;function h(a,c,d,e){var f=d+c,g={};function h(b,c,e,h){if(b!=="FLUX_CONTAINER_ATTRIBUTABLE")return;h.startTime<=f&&h.endTime>=d&&(g[a+"_"+c]=e)}e.forEach(function(a){b("AdsProfilerFluxCycleProcessingUtils").processFluxCycleEntry(a,h)});return g}a=function(){__p&&__p();function a(){this.$1=null,this.processEntries=h}var c=a.prototype;c.startInteractionMeasurement=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(g.captureSamples());case 2:this.$2=c.sent,this.$1=a;case 4:case"end":return c.stop()}},null,this)};c.endInteractionMeasurement=function(a,c,d,e){__p&&__p();var f,g,h;return b("regeneratorRuntime").async(function(i){__p&&__p();while(1)switch(i.prev=i.next){case 0:if(!(this.$1!==a)){i.next=2;break}return i.abrupt("return");case 2:f=this.$2;if(!(f==null)){i.next=5;break}return i.abrupt("return");case 5:i.next=7;return b("regeneratorRuntime").awrap(f());case 7:g=i.sent,h=this.processEntries(a,c,d,g),this.$1=null,this.$2=null,this.$3=null,b("AdsBrowserLab").resolveEvent(a,e,h);case 13:case"end":return i.stop()}},null,this)};c.isProfilingInteraction=function(a){return this.$1===a};c.maybeStartInteractionMeasurement=function(a){if(this.$1===a)return!0;this.$3==null&&(this.$3=a,b("promiseDone")(this.startInteractionMeasurement(a)));return!1};return a}();e.exports=new a()}),null);
__d("AdsScenarioLoggerStoreInstrumentation",[],(function(a,b,c,d,e,f){"use strict";var g=[];a={inject:function(a){g.push(a)},onScenarioStart:function(a){g.forEach(function(b){return b.scenarioStart(a)})},onScenarioEnd:function(a){g.forEach(function(b){return b.scenarioEnd(a)})}};e.exports=a}),null);
__d("AdsScenarioUtil",["invariant","AdsInterfacesLogEvents","AdsLoadState_LEGACY","DateConsts","guid","nullthrows","performanceAbsoluteNow","performanceNavigationStart"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsInterfacesLogEvents").Event,i={TIMEOUT_LARGE:b("DateConsts").SEC_PER_MIN*5,TIMEOUT_SMALL:b("DateConsts").SEC_PER_MIN,generateID:function(){return b("guid")()+"_"+b("performanceAbsoluteNow")()},scenarioStatusToEvent:function(a){switch(a){case"success":return h.PERF_SCENARIO_SUCCEED;case"fail":return h.PERF_SCENARIO_FAIL;case"abandoned":return h.PERF_SCENARIO_ABANDON;case"timeout":return h.PERF_SCENARIO_TIMEOUT;default:g(0,1277)}},scenarioStatusFromEvent:function(a){return b("nullthrows")(i.scenarioStatusFromEventOrNull(a))},scenarioStatusFromEventOrNull:function(a){switch(a){case h.PERF_SCENARIO_SUCCEED:return"success";case h.PERF_SCENARIO_FAIL:return"fail";case h.PERF_SCENARIO_ABANDON:return"abandoned";default:return void 0}},scenarioStatusFromProgressStatus:function(a){switch(a){case b("AdsLoadState_LEGACY").LOADED:return"success";case b("AdsLoadState_LEGACY").ERROR:return"fail";case b("AdsLoadState_LEGACY").LOADING:return"timeout";default:g(0,5507,a)}},relativeInstantToAbsoluteUs:function(a){return Math.round(1e6*a)+1e3*b("performanceNavigationStart")()},durationToUs:function(a){return Math.round(a*1e6)},scenarioDataToLoggerData:function(a){var b=a.subeventCountsByStatus;return babelHelpers["extends"]({scenario_duration:i.durationToUs(a.interval[1]-a.interval[0]),scenario_end:i.relativeInstantToAbsoluteUs(a.interval[1]),scenario_event_occurrence_index:a.occurrenceIndex,scenario_start:i.relativeInstantToAbsoluteUs(a.interval[0]),scenario_status:a.status,scenario_subevent_abandoned_count:b&&b.abandoned,scenario_subevent_count:a.subeventCount,scenario_subevent_fail_count:b&&b.fail,scenario_subevent_success_count:b&&b.success,visible:a.visible},a.logData)}};e.exports=i}),null);
__d("AdsScenarios",["abstractMethod","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(){}var c=a.prototype;c.getActions=function(){return b("abstractMethod")("ActionMatcherBase","getActions")};c.test=function(a,c){return b("abstractMethod")("ActionMatcherBase","test")};c.clone=function(){return b("abstractMethod")("ActionMatcherBase","clone")};return a}();c=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.actionSet=new Set(b);c.matchedSet=new Set();return c}var c=b.prototype;c.test=function(a){a=a.type;this.actionSet.has(a)&&this.matchedSet.add(a);if(this.actionSet.size!==this.matchedSet.size)return!1;this.matchedSet.clear();return!0};c.clone=function(){return new b(Array.from(this.actionSet.values()))};c.getActions=function(){return this.actionSet};return b}(a);d=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.actionSet=new Set(b);return c}var c=b.prototype;c.test=function(a){return this.actionSet.has(a.type)};c.clone=function(){return new b(Array.from(this.actionSet.values()))};c.getActions=function(){return this.actionSet};return b}(a);f=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.actionFunction=b;c&&(d.actionSet=new Set(c));return d}var c=b.prototype;c.test=function(a,b){return this.actionFunction(a,b)};c.clone=function(){var a=this.actionSet;return new b(this.actionFunction,a?Array.from(a.values()):null)};c.getActions=function(){return this.actionSet};return b}(a);var g=function(){__p&&__p();function a(a,b){__p&&__p();this.actionSet=null;this.descriptor=a;this.id=b||"";this.context={};b=[a.start.getActions(),a.success.getActions(),a.abandon?a.abandon.getActions():[],a.fail?a.fail.getActions():[]];if(!b.some(function(a){return a==null})){this.actionSet=new Set((a=[]).concat.apply(a,b.filter(Boolean).map(function(a){return Array.from(a)})))}}var c=a.prototype;c.getActions=function(){return this.actionSet};c.matchesAction=function(a){return b("abstractMethod")("WaitingBase","matchesAction")};c.followUp=function(a,c){return b("abstractMethod")("WaitingBase","followUp")};return a}(),h=function(b){__p&&__p();babelHelpers.inheritsLoose(a,b);function a(a,c,d,e,f){a=b.call(this,a)||this;a.startCallback=c;a.succeedCallback=d;a.abandonCallback=e;a.failCallback=f;return a}var c=a.prototype;c.matchesAction=function(a){return this.descriptor.start.test(a,this.context)};c.followUp=function(a,b){var c=this.startCallback();this.descriptor.keepPreviousContext||(this.context={});a.push(new j(this.descriptor,c,this.succeedCallback,b,this.context),new k(this.descriptor,c,this.abandonCallback,b,this.context),new l(this.descriptor,c,this.failCallback,b,this.context),new m(this.descriptor,c,this.failCallback,b,this.context));return a};return a}(g),i=function(b){__p&&__p();babelHelpers.inheritsLoose(a,b);function a(a,c,d,e,f){a=b.call(this,a,c)||this;a.endCallback=d;a.initialAction=e;a.context=f?babelHelpers["extends"]({},f):{};return a}var c=a.prototype;c.followUp=function(a,b){var c=this,d;this.descriptor.logData&&(d=this.descriptor.logData(this.initialAction,b));this.endCallback(this.id,d);return a.filter(function(a){return a.id!==c.id})};return a}(g),j=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.matchesAction=function(a){return this.descriptor.success.test(a,this.context)};return a}(i),k=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.matchesAction=function(a){var b=this.descriptor.abandon;return!!b&&b.test(a,this.context)};return a}(i),l=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.matchesAction=function(a){var b=this.descriptor.fail;return!!b&&b.test(a,this.context)};return a}(i),m=function(c){babelHelpers.inheritsLoose(a,c);function a(a,d,e,f,g){a=c.call(this,a,d,e,f,g)||this;a.startTime=b("performanceNow")();return a}var d=a.prototype;d.matchesAction=function(a){return b("performanceNow")()-this.startTime>=this.descriptor.timeout*1e3};return a}(i);e.exports={ActionMatcherBase:a,ActionAnd:c,ActionOr:d,ActionFunction:f,WaitingBase:g,WaitingStart:h,WaitingSuccess:j,WaitingAbandon:k,WaitingFail:l,WaitingTimeout:m}}),null);
__d("AdsBaseScenarioLoggerStore",["AdsAppVisibilityBlurDataActionFlux","AdsAppVisibilityFocusDataActionFlux","AdsBrowserLab","AdsInterfacesScenarioTerminalStatus","AdsSpeedConfig","AdsDataAtom","AdsInterfacesLogEvents","AdsScenarioLoggerStoreInstrumentation","AdsScenarioUtil","AdsScenarios","FluxStore","Run","StrSet","abstractMethod","expectationViolation","performance","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsSpeedConfig").isDevToolsTimingEnabled,h=b("AdsInterfacesLogEvents").Event;b("AdsScenarios").WaitingBase;var i=b("AdsScenarios").WaitingStart,j=b("AdsScenarios").WaitingSuccess,k="\u2705",l="\u23f0",m="\u274c",n="\u26d4";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("AdsDataAtom"))||this;c.$AdsBaseScenarioLoggerStore1={};c.activeScenarios={};c.waitingList=[];c.$AdsBaseScenarioLoggerStore2();return c}var d=c.prototype;d.dispatchScenarioAction=function(a,c){__p&&__p();c===void 0&&(c=!0);var d=[].concat(this.waitingList);for(var e=this.waitingList,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;var i=!0;if(c){var j=h.getActions();j==null?b("expectationViolation")("Scenarios used with onlyToRelevantMatchers=true must define their relevant action types. Did you use `new ActionFunction()` without the second argument?"):i=j.has(a.type)}i&&h.matchesAction(a)&&(d=h.followUp(d,a))}this.waitingList=d;switch(a.type){case b("AdsAppVisibilityBlurDataActionFlux").actionType:case b("AdsAppVisibilityFocusDataActionFlux").actionType:for(var k in this.activeScenarios)Object.prototype.hasOwnProperty.call(this.activeScenarios,k)&&(this.activeScenarios[k].visible=!1);break}};d.__onDispatch=function(a){a=a.action;this.dispatchScenarioAction(a,!1)};d.prepareScenarios=function(a){var c=this,d=new(b("StrSet"))(this.waitingList.map(function(a){return a.descriptor.name}));this.waitingList=this.waitingList.concat(a.filter(function(a){return!d.contains(a.name)}).map(function(a){return new i(a,function(){return c.scenarioStart(a.name)},function(a,b){return c.scenarioSucceed(a,b)},function(a,b){return c.scenarioAbandon(a,b)},function(a,b){return c.scenarioFail(a,b)})}))};d.$AdsBaseScenarioLoggerStore2=function(){__p&&__p();var a=this;b("Run").onUnload(function(){__p&&__p();for(var b=a.waitingList,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.descriptor.submitOnUnload===!0&&e instanceof j&&e.followUp([],{type:"on_page_unload"})}})};d.getActiveScenarios=function(){var a=this;return Object.keys(this.activeScenarios).map(function(b){return a.activeScenarios[b].scenario})};d.getActiveScenarioIDs=function(){return Object.keys(this.activeScenarios)};d.getStateData=function(){return b("abstractMethod")("AdsBaseScenarioLoggerStore","getStateData")};d.log=function(a,c){return b("abstractMethod")("AdsBaseScenarioLoggerStore","log")};d.$AdsBaseScenarioLoggerStore3=function(a,c){c===void 0&&(c={}),this.log(b("AdsScenarioUtil").scenarioStatusToEvent(a.status),babelHelpers["extends"]({},b("AdsScenarioUtil").scenarioDataToLoggerData(a),this.getStateData(),c,{active_scenario_ids:[a.id],active_scenarios:[a.name]}))};d.$AdsBaseScenarioLoggerStore4=function(a,c,d,e){e===void 0&&(e={});var f=this.activeScenarios[a];this.log(c,babelHelpers["extends"]({},this.getStateData(),e,{scenario_status:d,active_scenarios:[f.scenario],active_scenario_ids:[a],scenario_start:b("AdsScenarioUtil").relativeInstantToAbsoluteUs(f.startTime),scenario_event_occurrence_index:f.occurrenceIndex}))};d.$AdsBaseScenarioLoggerStore5=function(a,c,d){d===void 0&&(d={});var e=this.activeScenarios[a];if(!e)return;var f=b("performanceNow")()/1e3;this.$AdsBaseScenarioLoggerStore3({id:a,name:e.scenario,status:c,interval:[e.startTime,f],occurrenceIndex:e.occurrenceIndex,visible:e.visible!==!1},d)};d.$AdsBaseScenarioLoggerStore6=function(a){g()&&(b("performance").mark&&b("performance").mark(a+"-start"))};d.$AdsBaseScenarioLoggerStore7=function(a,c){__p&&__p();if(g()){if(!b("performance").mark||!b("performance").measure||!b("performance").clearMarks||!b("performance").clearMeasures)return;var d=this.activeScenarios[a];d=d&&d.scenario;if(!d)return;a=a+"-start";c=l+" "+c+" "+d;try{b("performance").measure(c,a)}catch(a){b("performance").mark(c)}b("performance").clearMarks(c);b("performance").clearMarks(a);b("performance").clearMeasures(c)}};d.scenarioStart=function(a,c){var d=b("performanceNow")()/1e3;b("AdsScenarioLoggerStoreInstrumentation").onScenarioStart(a);var e=b("AdsScenarioUtil").generateID(),f=this.$AdsBaseScenarioLoggerStore1[a]||1;this.activeScenarios[e]={scenario:a,startTime:d,occurrenceIndex:f};this.$AdsBaseScenarioLoggerStore1[a]=f+1;this.$AdsBaseScenarioLoggerStore6(e);this.$AdsBaseScenarioLoggerStore4(e,h.PERF_SCENARIO_START,b("AdsInterfacesScenarioTerminalStatus").START,c);return e};d.scenarioSucceed=function(a,c){b("AdsScenarioLoggerStoreInstrumentation").onScenarioEnd(this.activeScenarios[a].scenario),this.$AdsBaseScenarioLoggerStore7(a,k),this.$AdsBaseScenarioLoggerStore5(a,"success",c),this.scenarioFinally(a,"success")};d.scenarioAbandon=function(a,b){this.$AdsBaseScenarioLoggerStore7(a,n),this.$AdsBaseScenarioLoggerStore5(a,"abandoned",b),this.scenarioFinally(a,"abandon")};d.scenarioFail=function(a,b){this.$AdsBaseScenarioLoggerStore7(a,m),this.$AdsBaseScenarioLoggerStore5(a,"fail",b),this.scenarioFinally(a,"fail")};d.scenarioFinally=function(a,c){this.activeScenarios[a]&&this.activeScenarios[a].scenario&&b("AdsBrowserLab").resolveEvent(this.activeScenarios[a].scenario),delete this.activeScenarios[a]};d.logCustomScenario=function(a,b){b===void 0&&(b={}),this.$AdsBaseScenarioLoggerStore3(a,b)};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=a}),null);